<div class="gestao-container">
  <div class="card">
    <div class="card-header">
      <h2>√Årbitros Cadastrados</h2>
      <button class="btn-add" (click)="abrirModal()">+ Adicionar √Årbitro</button>
    </div>
    <div class="card-body">
      <div class="lista-itens">
        @for (arbitro of arbitros; track arbitro.matricula) {
          <div class="item">
            <div class="item-info">
              <h3>{{ arbitro.nome }}</h3>
              <p>Matr√≠cula: {{ arbitro.matricula }}</p>
            </div>
            <div class="item-actions">
              <button class="btn-icon" (click)="abrirModal(arbitro)">‚úèÔ∏è</button>
              <button class="btn-icon btn-delete" (click)="deletarArbitro(arbitro.matricula)">üóëÔ∏è</button>
            </div>
          </div>
        } @empty {
          @if (!isLoading) {
            <p class="empty-message">Nenhum √°rbitro cadastrado.</p>
          }
        }
      </div>
    </div>
  </div>
</div>

@if (isModalAberto) {
  <div class="modal-backdrop">
    <div class="modal-content">
      <h3>{{ isEditando ? 'Editar √Årbitro' : 'Adicionar Novo √Årbitro' }}</h3>
      <form [formGroup]="arbitroForm" (ngSubmit)="salvarArbitro()">
        <div class="form-group">
          <label for="arbitro-nome">Nome</label>
          <input id="arbitro-nome" type="text" formControlName="nome" placeholder="Digite o nome do √°rbitro">
        </div>
        <div class="form-group">
          <label for="arbitro-matricula">Matr√≠cula</label>
          <input id="arbitro-matricula" type="text" formControlName="matricula" placeholder="Digite a matr√≠cula">
        </div>
         <div class="form-group">
          <label for="arbitro-senha">Senha {{ isEditando ? '(Opcional)' : '' }}</label>
          <input id="arbitro-senha" type="password" formControlName="senha" [placeholder]="isEditando ? 'Deixe em branco para n√£o alterar' : ''">
        </div>

        @if (mensagemErroModal) {
          <p class="mensagem-erro">{{ mensagemErroModal }}</p>
        }

        <div class="modal-actions">
          <button type="button" class="btn-secondary" (click)="fecharModal()">Cancelar</button>
          <button type="submit" [disabled]="arbitroForm.invalid || isLoading">Salvar</button>
        </div>
      </form>
    </div>
  </div>
}
